!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="720b5a01-cafd-4a6c-8e39-1050cb5e71a8",e._sentryDebugIdIdentifier="sentry-dbid-720b5a01-cafd-4a6c-8e39-1050cb5e71a8")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1053],{13420:(e,s,t)=>{t.d(s,{A:()=>u});var n=t(31085),l=t(38866),a=t(5596),i=t(56075),r=t(16179),o=t(38918),d=t(20101),c=t(68256),m=t(69692),x=t(14041);let u=e=>{var s,t,u;let{article:p,session:f,iconSize:h,showOnHover:b,className:y}=e,{update:v}=(0,m.useSession)(),[g,j]=(0,x.useState)(!1),w=null!==(u=null==f?void 0:null===(t=f.profile)||void 0===t?void 0:null===(s=t.ArticleSaves)||void 0===s?void 0:s.includes(Number(p.id)))&&void 0!==u&&u;(0,x.useEffect)(()=>{j(!1)},[f]);let N=(0,c.n)({mutationFn:()=>(0,d.Ay)(r.xA,{variables:{input:{slug:p.slug}}},null==f?void 0:f.accessToken).then(e=>{var s,t;if(!(null==e?void 0:null===(s=e.createSave)||void 0===s?void 0:s.success))throw null===(t=e.createSave)||void 0===t?void 0:t.errors}),onSuccess:()=>{j(!0),v()}}),A=(0,c.n)({mutationFn:()=>(0,d.Ay)(r.WY,{variables:{input:{slug:p.slug}}},null==f?void 0:f.accessToken).then(e=>{var s,t;if(!(null==e?void 0:null===(s=e.destroySave)||void 0===s?void 0:s.success))throw null===(t=e.destroySave)||void 0===t?void 0:t.errors}),onSuccess:()=>{j(!0),v()}}),S=e=>{e.preventDefault(),N.isPending||A.isPending||g||(f?w?A.mutate():N.mutate():(0,m.signIn)(i._.NEXT_PUBLIC_AUTH_NAME))};return(0,n.jsxs)("div",{className:(0,o.cn)("group z-10 inline-flex cursor-pointer items-center gap-1",y),onClick:S,onKeyUp:S,children:[N.isPending||A.isPending||g?(0,n.jsx)(a.A,{className:(0,o.cn)("16"===h&&"h-4 w-4","17"===h&&"h-[17px] w-[17px]")}):(0,n.jsx)(l.default,{icon:w?"aeon-saved":"aeon-save",width:h||"20",height:h||"20",stroke:"none"}),(0,n.jsx)("span",{className:(0,o.cn)("flex-shrink-0 font-sans",b&&"hidden group-hover:inline"),children:w?"Saved":"Save"})]})}},97128:(e,s,t)=>{t.d(s,{mJ:()=>B,Ts:()=>R,L7:()=>z,mZ:()=>O,Ay:()=>U});var n=t(31085),l=t(69692),a=t(14041),i=t(34747),r=t.n(i),o=t(38866),d=t(38918);let c=e=>{let{children:s,form:t,small:l}=e;return(0,n.jsxs)("button",{type:"button",className:(0,d.cn)("inline-flex min-h-12 cursor-pointer items-center rounded-full border-none bg-brand-red py-1.5 pr-1.5 pl-5 font-semibold text-white text-xl transition-all hover:bg-bright-red",l&&"min-h-11 text-base",t&&"rounded-none px-5 py-1.5"),children:[(0,n.jsx)("span",{className:t?"mr-0":"mr-2.5",children:s}),!t&&(0,n.jsx)(o.default,{icon:"circle-arrow-right",stroke:"none",height:l?"32":"40",width:l?"32":"40"})]})};var m=t(87457);let x=e=>{let{frequencyBtn:s,selected:t,value:l,onClick:a,children:i}=e;return(0,n.jsx)("button",{className:(0,d.cn)("h-12 w-full min-w-[120px] max-w-[228px] cursor-pointer rounded border border-black border-solid bg-white text-black text-lg transition-all [flex-basis:30%] max-sm:text-base",s&&"min-w-20",t&&"bg-black text-white",!t&&"hover:bg-grey-dark hover:text-white"),type:"button",value:l,onClick:a,children:i})},u=()=>{let[,e]=(0,m.Fo)("banner-donation-amount",""),[,s]=(0,m.Fo)("banner-custom-donation-amount",""),[,t]=(0,m.Fo)("banner-donation-period","monthly"),l=(0,a.useRef)(null),[i,r]=(0,a.useState)("10"),[o,c]=(0,a.useState)(""),[u,p]=(0,a.useState)("monthly");(0,a.useEffect)(()=>{e(i),s(o),t(u)},[]);let f=n=>{n.preventDefault(),n.target instanceof HTMLButtonElement&&(p(n.target.value),t(n.target.value)),r(""),e(""),c(""),s("")},h=t=>{t.preventDefault(),c(""),s(""),t.target instanceof HTMLButtonElement&&(r(t.target.innerText.split(" ")[0].slice(1)),e(t.target.innerText.split(" ")[0].slice(1)))};return(0,n.jsxs)("div",{className:"relative text-base",children:[(0,n.jsxs)("div",{className:"mb-6 [&_p:first-of-type]:mt-0",children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"I would like to donate:"})}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2.5",children:[(0,n.jsx)(x,{frequencyBtn:!0,value:"monthly",selected:"monthly"===u,onClick:f,children:"Monthly"}),(0,n.jsx)(x,{frequencyBtn:!0,value:"yearly",selected:"yearly"===u,onClick:f,children:"Annually"}),(0,n.jsx)(x,{frequencyBtn:!0,value:"one-time",selected:"one-time"===u,onClick:f,children:"One-time"})]})]}),(0,n.jsxs)("div",{className:"mb-6 [&_p:first-of-type]:mt-0",children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Select amount (US dollars):"})}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2.5",children:["monthly"===u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{value:"5",selected:!o&&"5"===i,onClick:h,children:"$5 per month"}),(0,n.jsx)(x,{value:"10",selected:!o&&"10"===i,onClick:h,children:"$10 per month"})]}),"yearly"===u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{value:"50",selected:!o&&"50"===i,onClick:h,children:"$50 per year"}),(0,n.jsx)(x,{value:"100",selected:!o&&"100"===i,onClick:h,children:"$100 per year"})]}),"one-time"===u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{selected:!o&&"50"===i,onClick:h,children:"one-time"===u&&"$50"}),(0,n.jsx)(x,{selected:!o&&"75"===i,onClick:h,children:"one-time"===u&&"$75"})]}),(0,n.jsxs)("div",{className:"relative min-w-[120px] max-w-[228px] basis-[30%]",ref:l,children:[(0,n.jsx)("input",{className:"large-amount-input moz-textfield webkit-spin-btns",value:o,type:"number",step:"1",min:"5",max:"999999",autoComplete:"off",placeholder:"Other",onChange:t=>{t.preventDefault(),r(""),e(""),c(t.target.value),s(t.target.value)},onKeyPress:e=>{var s;let t=(null===(s=l.current)||void 0===s?void 0:s.firstChild).valueAsNumber,n=e.key;(!/[0-9]/.test(n)||t.toString().length>=6||t<=0)&&e.preventDefault()}}),(0,n.jsx)("span",{className:(0,d.cn)('pointer-events-none absolute top-3 left-2.5 z-10 opacity-0 transition-opacity before:content-["$"] max-sm:top-3.5',o.length>=1&&"opacity-100")})]})]})]})]})};var p=t(66562),f=t(13091),h=t(11823);let b=e=>{let{endArticleDonate:s}=e,{backgroundColor:t,columns:l,bodyDesktop:a,bodyMobile:i,headingDesktop:o,headingMobile:x,textColor:b,buttonText:y,form:v,gaSlug:g}=s,[,j]=(0,m.Fo)("should-show-donate-banners",!0),w=g||f.FV.CTA.AEON.ARTICLE_END_DONATE;return v?(0,n.jsx)("section",{className:"mb-9 print:hidden",style:{backgroundColor:t},children:(0,n.jsx)("div",{style:{color:b},children:(0,n.jsxs)("div",{className:(0,d.cn)("mx-auto my-0 flex justify-center p-10 max-lg:flex-col max-lg:gap-5 max-lg:px-5 max-lg:py-10",1===l?"max-w-screen-lg flex-col gap-5":"max-w-screen-xl flex-row gap-10"),children:[(0,n.jsxs)("div",{className:"cta-content flex-1",children:[(0,n.jsx)("div",{className:(0,d.cn)("my-0 ml-0 font-bold font-serif text-3xl leading-9 max-sm:hidden [&_p:first-of-type]:mt-0",2===l?"mr-10":"mr-0"),dangerouslySetInnerHTML:(0,h.A)(o)}),(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-2xl sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(x)}),a&&(0,n.jsx)("div",{className:"text-lg max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(a)}),i&&(0,n.jsx)("div",{className:"text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(i)})]}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)(u,{}),(0,n.jsx)(r(),{href:"".concat(p.Ep.donate,"?source=").concat(w),as:p.Ep.donate,onClick:()=>j(!1),children:(0,n.jsx)(c,{children:y||"Donate now"})})]})]})})}):(0,n.jsx)("section",{className:"mb-9 print:hidden",style:{backgroundColor:t},"data-ga-view-prompt":w,children:(0,n.jsx)("div",{style:{color:b},children:(0,n.jsxs)("div",{className:(0,d.cn)("cta-content mx-auto my-0 flex justify-center p-10 max-lg:flex-col max-lg:gap-5 max-lg:px-5 max-lg:py-10",1===l?"max-w-screen-lg flex-col gap-5":"max-w-screen-xl flex-row gap-10"),children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:(0,d.cn)("my-0 ml-0 font-bold font-serif text-3xl leading-9 max-sm:hidden [&_p:first-of-type]:mt-0",2===l?"mr-10":"mr-0"),dangerouslySetInnerHTML:(0,h.A)(o)}),(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-2xl sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(x)})]}),(0,n.jsxs)("div",{className:"flex-1",children:[a&&(0,n.jsx)("div",{className:"text-lg max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(a)}),i&&(0,n.jsx)("div",{className:"text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(i)}),(0,n.jsx)(r(),{"data-ga-select-prompt":w,href:"".concat(p.Ep.donate,"?source=").concat(w),as:p.Ep.donate,onClick:()=>j(!1),children:(0,n.jsx)(c,{children:y||"Donate now"})})]})]})})})};var y=t(13822);let v=e=>{let{endArticleSubscribe:s}=e,{backgroundColor:t,bodyDesktop:l,bodyMobile:i,headingDesktop:r,headingMobile:o,textColor:d,buttonText:c,newsletterDailyText:x,newsletterWeeklyText:u,gaSlug:p}=s,[b,v]=(0,a.useState)(!0),[g,j]=(0,m.Fo)("should-show-subscribe-banners",!0);return g?(0,n.jsx)("section",{className:"mb-9 print:hidden",style:{backgroundColor:t},children:(0,n.jsx)("div",{style:{color:d},children:(0,n.jsxs)("div",{className:"cta-content mx-auto my-0 flex max-w-screen-lg flex-col justify-center gap-2.5 p-10 max-sm:flex-col max-sm:px-5 max-sm:py-10",children:[b&&(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-3xl leading-9 max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(r)}),(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-2xl sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(o)})]}),(0,n.jsxs)("div",{className:"flex-1",children:[b&&l&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-lg max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(l)}),b&&i&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(i)}),(0,n.jsx)(y.q,{newsletterSource:"newsletter-signup-end-article",style:{backgroundColor:t},signupId:p||f.FV.CTA.AEON.ARTICLE_END_SUBSCRIBE,location:"cta",dailyText:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Daily: "}),x]}),weeklyText:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Weekly: "}),u]}),buttonText:c,onDismiss:()=>{j(!1)},onSubscribe:()=>v(!1)})]})]})})}):null};var g=t(57338),j=t.n(g),w=t(43144);let N=()=>{let[,e]=(0,m.Fo)("banner-donation-amount",""),[,s]=(0,m.Fo)("banner-custom-donation-amount",""),[t,l]=(0,a.useState)("75"),i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{e(""),s("")},[]),(0,n.jsxs)("form",{ref:i,className:"relative text-base",children:[(0,n.jsx)("input",{className:"webkit-spin-btns moz-textfield h-12 max-w-36 rounded-l border-[1.4px] border-grey-light-border border-r-0 border-solid px-5 outline-none transition-colors focus:border-brand-red focus:bg-white active:border-brand-red active:bg-white",value:t,type:"number",step:"1",min:"5",max:"999999",autoComplete:"off",onChange:e=>{e.preventDefault(),l(e.target.value),s(e.target.value)},onKeyPress:e=>{var s;let t=(null===(s=i.current)||void 0===s?void 0:s.firstChild).valueAsNumber,n=e.key;(!/[0-9]/.test(n)||t.toString().length>=6||t<=0)&&e.preventDefault()}}),(0,n.jsx)("span",{className:"pointer-events-none absolute top-3 left-2.5 z-10 before:content-['$']"})]})};var A=t(15979);let S=e=>{let{ctaData:s,pageType:t,children:l}=e,a=[t,"all"].includes((null==s?void 0:s.prevalenceDesktop)||"all"),i=[t,"all"].includes((null==s?void 0:s.prevalenceMobile)||"all"),r="main-mid-donate"===s.kind||"main-mid-subscribe"===s.kind;return(0,n.jsx)("div",{className:(0,d.cn)("hidden",r&&"col-span-full row-start-2",a&&"sm:block",i&&"max-sm:block"),children:l})},T=e=>{let{mainDonate:s,pageType:t}=e,{backgroundColor:l,bodyDesktop:i,bodyMobile:x,columns:u,form:b,headingDesktop:y,headingMobile:v,image:g,imagePrevalence:T,position:I,scrollDepthDesktop:_,scrollDepthMobile:k,textColor:E,buttonText:C,gaSlug:L}=s,[D,F]=(0,m.Fo)("should-show-donate-banners",!0),[M,H]=(0,m.Fo)("should-show-cta-slide-ups",!0),B=(0,a.useRef)(null),[O,R]=(0,a.useState)(!1),[z,U]=(0,a.useState)(0),[P,V]=(0,a.useState)(!1),$=L||f.FV.CTA.AEON.MAIN_DONATE,W=()=>{U(window.scrollY)},q=()=>{V(window.innerWidth<640)};if((0,a.useEffect)(()=>(window.addEventListener("scroll",W,{passive:!0}),window.addEventListener("resize",q,{passive:!0}),()=>{window.removeEventListener("scroll",W),window.removeEventListener("resize",q)}),[]),(0,a.useEffect)(()=>{B.current=document.querySelector("#".concat(I,"-portal")),R(!0)},[I]),!(!M&&"bottom"===I)&&D&&O&&("bottom"!==I||(P?z>(null!=k?k:0):z>(null!=_?_:0)))&&B.current){var Y;return(0,w.createPortal)((0,n.jsx)(S,{ctaData:s,pageType:t,children:(0,n.jsx)("section",{className:(0,d.cn)("print:hidden","bottom"===I&&"anim-slide-up [@media(max-height:640px)]:hidden"),style:{backgroundColor:l},"data-ga-view-prompt":$,children:(0,n.jsxs)("div",{className:"relative mx-auto my-0 flex max-w-[1440px] justify-center max-sm:flex-col",style:{color:E},children:["bottom"===I&&(0,n.jsx)("div",{className:"-m-5 absolute top-6 right-6 z-10 cursor-pointer p-5",onClick:()=>{H(!1)},children:(0,n.jsx)(o.default,{icon:"menu-close",width:"20",height:"20"})}),g&&(0,n.jsx)("div",{className:(0,d.cn)("relative min-h-52 min-w-52 [flex:3]","desktop"===T&&"max-sm:hidden","mobile"===T&&"sm:hidden"),children:(0,n.jsx)(j(),{className:(0,d.cn)("object-cover","top"===I?"max-sm:p-0":"max-sm:px-20 max-sm:py-0"),src:null!==(Y=null==g?void 0:g.url)&&void 0!==Y?Y:"",alt:(null==g?void 0:g.alt)||"",fill:!0,sizes:"(max-width: ".concat(A.A.$break_small,") 100vw, (max-width: ").concat(A.A.$break_x_large,") 30vw, 420px")})}),(0,n.jsxs)("div",{className:(0,d.cn)("cta-content flex gap-2.5 p-10 [flex:7] max-sm:flex-col","top"===I&&"px-6 max-sm:p-6",1===u?"max-w-6xl flex-col":"flex-row"),children:[(0,n.jsxs)("div",{className:"[flex:3]",children:[(0,n.jsx)("div",{className:(0,d.cn)("m-0 font-bold font-serif text-3xl leading-9 max-sm:hidden [&_p:first-of-type]:mt-0",2===u&&"mr-10"),dangerouslySetInnerHTML:(0,h.A)(y)}),(0,n.jsx)("div",{className:(0,d.cn)("m-0 font-bold font-serif text-2xl leading-7 sm:hidden [&_p:first-of-type]:mt-0","bottom"===I&&"mt-5"),dangerouslySetInnerHTML:(0,h.A)(v)})]}),(0,n.jsxs)("div",{className:"min-w-72 [flex:4]",children:[i&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-lg max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(i)}),x&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(x)}),(0,n.jsxs)("div",{className:"flex flex-wrap",children:[b&&(0,n.jsx)(N,{}),(0,n.jsx)(r(),{href:"".concat(p.Ep.donate,"?source=").concat($),as:p.Ep.donate,"data-ga-select-prompt":$,onClick:()=>{F(!1)},children:(0,n.jsx)(c,{form:b,children:C||"Donate now"})})]})]})]})]})})}),B.current)}return null},I=e=>{let{midDonate:s}=e,{backgroundColor:t,bodyDesktop:l,bodyMobile:a,columns:i,form:o,headingDesktop:x,headingMobile:u,textColor:b,buttonText:y,gaSlug:v}=s,[,g]=(0,m.Fo)("should-show-donate-banners",!0),j=v||f.FV.CTA.AEON.MAIN_MID_DONATE;return(0,n.jsx)("section",{className:"print:hidden",style:{backgroundColor:t},"data-ga-view-prompt":j,children:(0,n.jsx)("div",{className:(0,d.cn)("relative mx-auto my-0 flex justify-center",1===i?"max-w-4xl":"max-w-7xl"),style:{color:b},children:(0,n.jsxs)("div",{className:(0,d.cn)("cta-content flex p-10 [flex:7] max-sm:flex-col max-sm:gap-0 max-sm:px-5 max-sm:py-10",1===i?"flex-col gap-0":"flex-row gap-10"),children:[(0,n.jsxs)("div",{className:"[flex:3]",children:[(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-3xl max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(x)}),(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-2xl sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(u)})]}),(0,n.jsxs)("div",{className:"min-w-80 [flex:4]",children:[l&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-lg max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(l)}),a&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(a)}),(0,n.jsx)("div",{className:"flex flex-wrap",children:(0,n.jsx)(r(),{"data-ga-select-prompt":j,href:"".concat(p.Ep.donate,"?source=").concat(j),as:p.Ep.donate,onClick:()=>{g(!1)},children:(0,n.jsx)(c,{form:o,children:y||"Donate now"})})})]})]})})})},_=e=>{let{midSubscribe:s}=e,{backgroundColor:t,bodyDesktop:l,bodyMobile:i,headingDesktop:r,headingMobile:o,newsletterDailyText:d,newsletterWeeklyText:c,textColor:x,buttonText:u,gaSlug:p}=s,[b,v]=(0,a.useState)(!0),[g,j]=(0,m.Fo)("should-show-subscribe-banners",!0);return g?(0,n.jsx)("section",{className:"print:hidden",style:{backgroundColor:t},children:(0,n.jsx)("div",{className:"relative mx-auto my-0 flex max-w-4xl justify-center",style:{color:x},children:(0,n.jsxs)("div",{className:"cta-content flex flex-col gap-0 p-10 [flex:7] max-sm:px-5 max-sm:py-10",children:[b&&(0,n.jsxs)("div",{className:"[flex:3]",children:[(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-3xl max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(r)}),(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-2xl sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(o)})]}),(0,n.jsxs)("div",{className:"min-w-80 [flex:4]",children:[b&&l&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-base max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(l)}),b&&i&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(i)}),(0,n.jsx)(y.q,{newsletterSource:"newsletter-signup-main-mid",style:{backgroundColor:t},signupId:p||f.FV.CTA.AEON.MAIN_MID_SUBSCRIBE,location:"cta",dailyText:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Daily: "}),d]}),weeklyText:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Weekly: "}),c]}),buttonText:u,onDismiss:()=>{j(!1)},onSubscribe:()=>v(!1)})]})]})})}):null},k=e=>{let{midArticleDonate:s}=e,{backgroundColor:t,bodyDesktop:l,bodyMobile:a,headingDesktop:i,headingMobile:o,textColor:d,buttonText:x,gaSlug:u}=s,[b,y]=(0,m.Fo)("should-show-donate-banners",!0),v=u||f.FV.CTA.AEON.ARTICLE_MID_DONATE;return b?(0,n.jsx)("section",{className:"max-sm:-mx-6 max-sm:my-0 print:hidden",style:{backgroundColor:t},"data-ga-view-prompt":v,children:(0,n.jsx)("div",{style:{color:d},children:(0,n.jsxs)("div",{className:"cta-content flex flex-col gap-5 p-10 max-sm:px-5 max-sm:py-10",children:[(0,n.jsxs)("div",{className:"[&_a]:border-0",children:[(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-3xl max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(i)}),(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-2xl sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(o)})]}),(0,n.jsxs)("div",{className:"[&_a]:!border-none",children:[l&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 font-sans text-lg max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(l)}),a&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 font-sans text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(a)}),(0,n.jsx)(r(),{"data-ga-select-prompt":v,href:"".concat(p.Ep.donate,"?source=").concat(v),as:p.Ep.donate,onClick:()=>y(!1),children:(0,n.jsx)(c,{children:x||"Donate now"})})]})]})})}):null},E=e=>{let{midArticleSubscribe:s}=e,{backgroundColor:t,bodyDesktop:l,bodyMobile:i,headingDesktop:o,headingMobile:d,newsletterDailyText:x,newsletterWeeklyText:u,form:b,textColor:v,buttonText:g,gaSlug:j}=s,[w,N]=(0,a.useState)(!0),[A,S]=(0,m.Fo)("should-show-subscribe-banners",!0),T=(0,n.jsx)("div",{className:"relative mx-auto my-0 flex max-w-screen-lg justify-center",style:{color:v},children:(0,n.jsxs)("div",{className:"cta-content flex flex-col gap-5 p-10 [flex:7] max-sm:px-5 max-sm:py-10",children:[w&&(0,n.jsxs)("div",{className:"[flex:3]",children:[(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-3xl max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(o)}),(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-2xl sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(d)})]}),(0,n.jsxs)("div",{className:"[&_a]:!border-none min-w-7 [flex:4]",children:[w&&l&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 font-sans text-lg max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(l)}),w&&i&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 font-sans text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(i)}),b?(0,n.jsx)(y.q,{newsletterSource:"newsletter-signup-mid-article",style:{backgroundColor:t},signupId:j||f.FV.CTA.AEON.ARTICLE_MID_SUBSCRIBE,location:"cta",dailyText:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Daily: "}),x]}),weeklyText:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Weekly: "}),u]}),buttonText:g||"Find out more",onDismiss:()=>{S(!1)},onSubscribe:()=>N(!1)}):(0,n.jsxs)(n.Fragment,{children:[x&&u&&(0,n.jsxs)("div",{className:"mb-7 flex flex-col gap-2.5 font-sans [&_p]:m-0",children:[(0,n.jsxs)("p",{className:"m-0 text-lg max-sm:text-base",children:[(0,n.jsx)("strong",{children:"Daily: "}),x]}),(0,n.jsxs)("p",{className:"m-0 text-lg max-sm:text-base",children:[(0,n.jsx)("strong",{children:"Weekly: "}),u]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-10 max-sm:flex-col max-sm:items-start max-sm:gap-5",children:[(0,n.jsx)(r(),{href:p.Ep.newsletter,"data-ga-select-prompt":j||f.FV.CTA.AEON.ARTICLE_MID_SUBSCRIBE,children:(0,n.jsx)(c,{children:g||"Find out more"})}),(0,n.jsx)("p",{className:"cursor-pointer font-sans text-sm",onClick:()=>S(!1),children:(0,n.jsx)("u",{children:"I’m already subscribed"})})]})]})]})]})});return A&&b?(0,n.jsx)("section",{className:"max-sm:-mx-6 max-sm:my-0 print:hidden",style:{backgroundColor:t},children:T}):A&&!b?(0,n.jsx)("section",{className:"max-sm:-mx-6 max-sm:my-0 print:hidden",style:{backgroundColor:t},"data-ga-view-prompt":j||f.FV.CTA.AEON.ARTICLE_MID_SUBSCRIBE,children:T}):null};var C=t(10092);let L=e=>{let{popUpSubscribe:s}=e,{backgroundColor:t,bodyDesktop:l,bodyMobile:i,headingDesktop:r,headingMobile:o,newsletterDailyText:c,newsletterWeeklyText:x,textColor:u,buttonText:p,scrollDepthDesktop:b,scrollDepthMobile:v,position:g,gaSlug:j}=s,[w,N]=(0,a.useState)(!0),[A,S]=(0,m.Fo)("should-show-subscribe-popup",!0),[T,I]=(0,m.Fo)("should-show-subscribe-banners",!0),[_,k]=(0,a.useState)(0),[E,L]=(0,a.useState)(!1),D=()=>{k(window.scrollY)},F=()=>{L(window.innerWidth<640)};return((0,a.useEffect)(()=>(window.addEventListener("scroll",D,{passive:!0}),window.addEventListener("resize",F,{passive:!0}),()=>{window.removeEventListener("scroll",D),window.removeEventListener("resize",F)}),[]),A&&T&&(E?_>(null!=v?v:0):_>(null!=b?b:0)))?(0,n.jsx)(C.A,{onDismiss:()=>S(!1),dismissible:!0,isOpen:A,isBareBone:!0,position:null!=g?g:void 0,children:(0,n.jsx)("section",{className:(0,d.cn)("print:hidden [@media(max-height:640px)]:hidden","corner"===g&&"shadow-2xl"),style:{backgroundColor:t},children:(0,n.jsx)("div",{className:"relative mx-auto my-0 flex justify-center",style:{color:u},children:(0,n.jsxs)("div",{className:(0,d.cn)("cta-content flex max-w-screen-md flex-col gap-0 p-5 sm:p-10","corner"===g?"lg:w-[556px]":"lg:w-[720px]"),children:[w&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"my-0 mr-5 ml-0 font-bold font-serif text-3xl leading-9 max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(r)}),(0,n.jsx)("div",{className:"mx-0 mt-5 mb-0 font-bold font-serif text-2xl leading-7 sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(o)})]}),(0,n.jsxs)("div",{children:[w&&l&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-lg max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(l)}),w&&i&&(0,n.jsx)("div",{className:"mx-0 mt-0 mb-6 text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(i)}),(0,n.jsx)(y.q,{newsletterSource:"newsletter-signup-popup",style:{backgroundColor:t},signupId:j||f.FV.CTA.AEON.POP_UP_SUBSCRIBE,location:"cta",dailyText:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Daily: "}),c]}):(0,n.jsx)("span",{children:"Daily"}),weeklyText:x?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Weekly: "}),x]}):(0,n.jsx)("span",{children:"Weekly"}),buttonText:p||"Sign up now",onDismiss:()=>{S(!1),I(!1)},onSubscribe:()=>N(!1)})]})]})})})}):null},D=e=>{let{mobile:s=!1,sideBanner:t}=e,{buttonText:l,textColor:i,backgroundColor:x,headingMobile:u,bodyMobile:b,headingDesktop:y,bodyDesktop:v,scrollDepthMobile:g,gaSlug:j}=t,[,w]=(0,m.Fo)("should-show-donate-banners",!0),[N,A]=(0,m.Fo)("should-show-cta-slide-ups",!0),[S,T]=(0,a.useState)(!1),I=j||f.FV.CTA.AEON.ARTICLE_SIDE_DONATE;(0,a.useEffect)(()=>{T(!0)},[]);let[_,k]=(0,a.useState)(0),E=()=>{k(window.scrollY)};return((0,a.useEffect)(()=>(window.addEventListener("scroll",E,{passive:!0}),()=>{window.removeEventListener("scroll",E)}),[]),!(!N&&s)&&S&&_>(null!=g?g:0))?(0,n.jsxs)("div",{className:(0,d.cn)("fixed bottom-0 left-0 z-50 w-full p-5 max-sm:shadow-slide-up sm:max-w-72 print:hidden sm:[position:inherit] [@media(max-height:640px)]:hidden",s?"anim-slide-up sm:hidden":"anim-reveal sm:flex"),style:{backgroundColor:x,color:i},"data-ga-view-prompt":I,children:[s&&(0,n.jsx)("div",{className:"-m-5 absolute top-6 right-6 z-10 cursor-pointer p-5",onClick:()=>{A(!1)},children:(0,n.jsx)(o.default,{icon:"menu-close",width:"20",height:"20"})}),(0,n.jsxs)("div",{className:(0,d.cn)("flex flex-col gap-2.5",s?"mt-5 mr-10 mb-0 ml-0":"m-0"),children:[(0,n.jsxs)("div",{className:"cta-content",children:[(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-lg leading-6 max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(y)}),(0,n.jsx)("div",{className:"m-0 font-bold font-serif text-lg leading-6 sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(u)}),v&&(0,n.jsx)("div",{className:"m-0 text-base max-sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(v)}),b&&(0,n.jsx)("div",{className:"m-0 text-base sm:hidden [&_p:first-of-type]:mt-0",dangerouslySetInnerHTML:(0,h.A)(b)})]}),(0,n.jsx)(r(),{"data-ga-select-prompt":I,href:"".concat(p.Ep.donate,"?source=").concat(I),as:p.Ep.donate,onClick:()=>{w(!1)},children:(0,n.jsx)(c,{small:!0,children:l||"Donate now"})})]})]}):null};var F=t(54205),M=t(20101),H=t(19534);let B=e=>{let{mobile:s=!1}=e,[t]=(0,m.Fo)("should-show-donate-banners",!0),{data:i,status:r}=(0,l.useSession)(),o="loading"===r,[d,c]=(0,a.useState)(null),[x,u]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{!o&&t&&(0,H.gy)(i)&&!(0,H.I7)(i)&&c((await (0,M.Ay)(F.Ar,{variables:{kind:"article-side-donate"}})).callToAction),u((await (0,M.Ay)(F.Ar,{variables:{kind:"main-banner-donate"}})).callToAction)})()},[o,i,t]),!d||s&&x)?null:(0,n.jsx)(S,{ctaData:d,pageType:"articles",children:(0,n.jsx)(D,{mobile:s,sideBanner:d})})},O=e=>{let{showSupportBanners:s,subscribed:t}=e,[l]=(0,m.Fo)("should-show-donate-banners",!0),[i]=(0,m.Fo)("should-show-subscribe-banners",!0),[r,o]=(0,a.useState)(null),[d,c]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{o((await (0,M.Ay)(F.Ar,{variables:{kind:"article-mid-donate"}})).callToAction),c((await (0,M.Ay)(F.Ar,{variables:{kind:"article-mid-subscribe"}})).callToAction)})()},[]),l&&r&&s)?(0,n.jsx)(S,{ctaData:r,pageType:"articles",children:(0,n.jsx)(k,{midArticleDonate:r})}):i&&d&&!t?(0,n.jsx)(S,{ctaData:d,pageType:"articles",children:(0,n.jsx)(E,{midArticleSubscribe:d})}):null},R=()=>{let[e]=(0,m.Fo)("should-show-donate-banners",!0),[s]=(0,m.Fo)("should-show-subscribe-banners",!0),{data:t,status:i}=(0,l.useSession)(),r="loading"===i,[o,d]=(0,a.useState)(null),[c,x]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{!r&&e&&(0,H.gy)(t)&&!(0,H.I7)(t)&&d((await (0,M.Ay)(F.Ar,{variables:{kind:"article-end-donate"}})).callToAction),r||!s||(0,H.hD)(t)||(0,H.I7)(t)||x((await (0,M.Ay)(F.Ar,{variables:{kind:"article-end-subscribe"}})).callToAction)})()},[r,t,e,s]),o)?(0,n.jsx)(S,{ctaData:o,pageType:"articles",children:(0,n.jsx)(b,{endArticleDonate:o})}):c?(0,n.jsx)(S,{ctaData:c,pageType:"articles",children:(0,n.jsx)(v,{endArticleSubscribe:c})}):null},z=()=>{let[e]=(0,m.Fo)("should-show-donate-banners",!0),[s]=(0,m.Fo)("should-show-subscribe-banners",!0),{data:t,status:i}=(0,l.useSession)(),r="loading"===i,[o,d]=(0,a.useState)(null),[c,x]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{!r&&e&&(0,H.gy)(t)&&!(0,H.I7)(t)&&d((await (0,M.Ay)(F.Ar,{variables:{kind:"main-mid-donate"}})).callToAction),r||!s||(0,H.hD)(t)||(0,H.I7)(t)||x((await (0,M.Ay)(F.Ar,{variables:{kind:"main-mid-subscribe"}})).callToAction)})()},[r,t,e,s]),o)?(0,n.jsx)(S,{ctaData:o,pageType:"landings",children:(0,n.jsx)(I,{midDonate:o})}):c?(0,n.jsx)(S,{ctaData:c,pageType:"landings",children:(0,n.jsx)(_,{midSubscribe:c})}):null},U=e=>{let{pageType:s}=e,[t]=(0,m.Fo)("should-show-donate-banners",!0),[i]=(0,m.Fo)("should-show-subscribe-banners",!0),[r]=(0,m.Fo)("should-show-subscribe-popup",!0),{data:o,status:d}=(0,l.useSession)(),c="loading"===d,[x,u]=(0,a.useState)(null),[p,f]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{!c&&t&&(0,H.gy)(o)&&!(0,H.I7)(o)&&u((await (0,M.Ay)(F.Ar,{variables:{kind:"main-banner-donate"}})).callToAction),c||!i||!r||(0,H.hD)(o)||(0,H.I7)(o)||f((await (0,M.Ay)(F.Ar,{variables:{kind:"pop-up-subscribe"}})).callToAction)})()},[c,o,t,i,r]),(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)(S,{ctaData:p,pageType:s,children:(0,n.jsx)(L,{popUpSubscribe:p})}),x&&(0,n.jsx)(T,{mainDonate:x,pageType:s})]})}}}]);